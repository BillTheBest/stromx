#!/usr/bin/make -f

DEB_CMAKE_EXTRA_FLAGS = \
	-DPYTHON_INSTALL_DIR=lib/python2.7/dist-packages \
	-DDOC_INSTALL_DIR=share/doc

include /usr/share/cdbs/1/rules/debhelper.mk
include /usr/share/cdbs/1/class/cmake.mk

build/libstromx::
	cd $(DEB_BUILDDIR) && env LD_LIBRARY_PATH=`pwd`/stromx/runtime:`pwd`/stromx/example:`pwd`/stromx/cvsupport:`pwd`/stromx/cvcore:`pwd`/stromx/calib3d:`pwd`/stromx/cvimgproc:`pwd`/stromx/cvhighgui:`pwd`/stromx/test $(MAKE) test ARGS="-V"

build/stromx-doc::
	cd $(DEB_BUILDDIR) && $(MAKE) doc
